(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(30)},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(5),c=n.n(o),s=n(1),u=n(10),i=n.n(u),l=n(16),m=n(6),d=n(4),p=n(14),E=function(e){return fetch(e).then(function(e){return e.json()})},f=function(e){return{type:"SET_POSTS",posts:e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.posts;case"DELETE_POST":return e.filter(function(e){return e.id!==t.postId});case"DELETE_COMMENT":return e.map(function(e){return e.id===t.postId?Object(m.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.commentId})}):e});default:return e}},h=function(e){return{type:"SET_LOADING",value:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return t.value;default:return e}},b=function(e){return{type:"SET_ERROR",value:e}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.value;default:return e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZED":return t.value;default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return t.query;default:return e}},T=function(e){return e.posts.filter(function(t){return(t.title+t.body).toLowerCase().includes(e.query)})},w=function(e){return e.isLoading},N=function(e){return e.hasError},O=function(e){return e.isInitialized},S=function(e,t,n){return e.map(function(e){return Object(m.a)({},e,{user:t.find(function(t){return t.id===e.userId}),comments:n.filter(function(t){return t.postId===e.id})})})},L=Object(d.c)({posts:v,isLoading:y,hasError:_,isInitialized:I,query:g}),j=Object(d.d)(L,Object(d.a)(p.a)),C=n(15),k=function(e){var t=e.user;return a.a.createElement("div",{className:"post__user"},a.a.createElement("p",null,"name: ".concat(t.name)),a.a.createElement("p",null,"city: ".concat(t.address.city)),a.a.createElement("p",null,"street: ".concat(t.address.street," ")),a.a.createElement("p",null,"suite: ".concat(t.address.suite," ")),a.a.createElement("p",null,"email: ".concat(t.email)))},D={deleteComment:function(e,t){return{type:"DELETE_COMMENT",postId:e,commentId:t}}},P=Object(s.b)(function(){return{}},D)(function(e){var t=e.postId,n=e.deleteComment,r=e.comment;return a.a.createElement("div",{className:"comment"},a.a.createElement("button",{type:"button",className:"post__delete-button",onClick:function(){return n(t,r.id)}},"x"),a.a.createElement("div",{className:"comment__name"},r.name),a.a.createElement("div",{className:"comment__body"},r.body),a.a.createElement("div",{className:"comment__email"},r.email),a.a.createElement("hr",null))}),R=function(e){var t=e.postId,n=e.comments;return a.a.createElement("div",{className:"comment-list"},a.a.createElement("h3",null,"Comments"),a.a.createElement("hr",null),n.map(function(e){return a.a.createElement(P,{comment:e,key:e.id,postId:t})}))},x={deletePost:function(e){return{type:"DELETE_POST",postId:e}}},A=Object(s.b)(function(){return{}},x)(function(e){var t=e.deletePost,n=e.post;return a.a.createElement("section",{className:"post"},a.a.createElement("article",{className:"post__content"},a.a.createElement("button",{className:"post__delete-button",type:"button",onClick:function(){return t(n.id)}},"x"),a.a.createElement("h2",null,n.title),a.a.createElement("p",null,n.body),a.a.createElement(k,{user:n.user})),a.a.createElement(R,{comments:n.comments,postId:n.id}),a.a.createElement("hr",null))}),q=Object(s.b)(function(e){return{posts:T(e)}})(function(e){return e.posts.map(function(e){return a.a.createElement(A,{key:e.id,post:e})})}),z=(n(29),{setQuery:function(e){return{type:"SET_QUERY",query:e}},getPostsFromServer:function(){return function(e){var t,n,r,a,o;return i.a.async(function(c){for(;;)switch(c.prev=c.next){case 0:return e(b(!1)),e(h(!0)),c.prev=2,c.next=5,i.a.awrap(Promise.all([E("https://jsonplaceholder.typicode.com/posts"),E("https://jsonplaceholder.typicode.com/users"),E("https://jsonplaceholder.typicode.com/comments")]));case 5:t=c.sent,n=Object(l.a)(t,3),r=n[0],a=n[1],o=n[2],e(f(S(r,a,o))),e({type:"SET_INITIALIZED",value:!0}),c.next=17;break;case 14:c.prev=14,c.t0=c.catch(2),e(b(!0));case 17:e(h(!1));case 18:case"end":return c.stop()}},null,null,[[2,14]])}}}),M=Object(s.b)(function(e){return{isLoading:w(e),hasError:N(e),isInitialized:O(e)}},z)(function(e){var t=e.isLoading,n=e.hasError,r=e.isInitialized,o=e.setQuery,c=e.getPostsFromServer;return a.a.createElement("div",{className:"App"},r&&a.a.createElement(C.DebounceInput,{debounceTimeout:500,type:"text",placeholder:"Search",className:"posts__search",onChange:function(e){var t=e.target.value;o(t.toLowerCase().trim())}}),!r&&!n&&a.a.createElement("button",{className:"load-button",type:"button",disabled:t,onClick:c},t?"Loading...":"Load posts"),!r&&n&&a.a.createElement("button",{className:"load-button",type:"button",disabled:t,onClick:c},t?"Loading...":"Try again"),r&&a.a.createElement(q,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(s.a,{store:j},a.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.78508aa1.chunk.js.map